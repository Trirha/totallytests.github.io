<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <script src="auth.js" defer></script>
    <script
      src="https://js.sentry-cdn.com/d8e7f1e96749d9d1fd4a9be4662c7ea0.min.js"
      crossorigin="anonymous"
    ></script>
    <script>
      Sentry.onLoad(function() {
        Sentry.init({
          // Tracing
          tracesSampleRate: 1.0, // Capture 100% of the transactions
          // Session Replay
          replaysSessionSampleRate: 0.1, // This sets the sample rate at 10%. You may want to change it to 100% while in development and then sample at a lower rate in production.
          replaysOnErrorSampleRate: 1.0, // If you're not already sampling the entire session, change the sample rate to 100% when sampling sessions where errors occur.
        });
      });
</script>
</head>
<body>
    <div id="content" style="display: none;">
        <h1>Welcome to my secured website!</h1>
        <button onclick="signOut()">Sign Out</button>
        <p>Access the secured content here.</p>
    </div>

    <div id="login">
        <h2>Login Form</h2>
        <input type="text" id="username" placeholder="Enter username" required>
        <input type="password" id="password" placeholder="Enter password" required>
        <button onclick="signIn()">Sign In</button>
    </div>

    <script>
        window.onload = function() {
            const isLoggedIn = sessionStorage.getItem('isLoggedIn');
            if (isLoggedIn) {
                // Redirect to main games page if already logged in
                window.location.href = "/games/website1.html"; 
            } 
            // If not logged in, show the login form
            document.getElementById('login').style.display = 'block'; 
        };

        function signIn() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Check credentials
            if (username === "yourUsername" && password === "yourPassword") {
                sessionStorage.setItem('isLoggedIn', 'true'); // Set login session
                window.location.href = "/games/website1.html"; // Redirect to games page
            } else {
                alert("Incorrect username or password. Please try again.");
            }
        }

        function signOut() {
            sessionStorage.removeItem('isLoggedIn'); // Remove the login session
            window.location.href = "secured.html"; // Redirect to login page
        }
    </script>
</body>
</html>
